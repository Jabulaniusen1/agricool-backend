# Generated by Django 3.2.4 on 2025-07-23 11:14

from django.db import migrations

BANK_ID_TO_CODE = {
  "1": "044",
  "2": "023",
  "3": "063",
  "4": "050",
  "6": "070",
  "7": "011",
  "8": "214",
  "9": "058",
  "11": "082",
  "13": "076",
  "14": "221",
  "15": "068",
  "16": "232",
  "17": "032",
  "18": "033",
  "19": "215",
  "20": "035",
  "21": "057",
  "22": "301",
  "23": "100",
  "25": "101",
  "26": "104",
  "27": "035A",
  "63": "401",
  "64": "098",
  "67": "50211",
  "68": "302",
  "69": "125",
  "70": "00103",
  "71": "566",
  "72": "51310",
  "73": "102",
  "74": "50823",
  "75": "51211",
  "81": "50383",
  "82": "565",
  "108": "50931",
  "109": "90052",
  "110": "311",
  "111": "51251",
  "112": "501",
  "167": "50126",
  "168": "51244",
  "169": "999991",
  "170": "50746",
  "171": "999992",
  "172": "50457",
  "173": "559",
  "174": "404",
  "175": "50563",
  "176": "502",
  "177": "51314",
  "178": "50304",
  "179": "50926",
  "180": "50549",
  "181": "51229",
  "183": "100022",
  "184": "50200",
  "185": "100002",
  "186": "51269",
  "187": "50502",
  "188": "51204",
  "232": "51293",
  "233": "303",
  "282": "50871",
  "283": "50204",
  "284": "50171",
  "285": "51253",
  "286": "51113",
  "287": "812",
  "295": "90067",
  "296": "031",
  "297": "MFB50094",
  "300": "120004",
  "301": "120002",
  "302": "120001",
  "303": "120003",
  "304": "105",
  "365": "50800",
  "366": "51297",
  "495": "602",
  "497": "090561",
  "523": "090420",
  "589": "51267",
  "614": "50083",
  "615": "50439",
  "626": "50864",
  "627": "51312",
  "628": "50263",
  "629": "100039",
  "630": "51322",
  "631": "50968",
  "632": "50582",
  "633": "562",
  "634": "090560",
  "635": "50739",
  "636": "50442",
  "637": "50162",
  "638": "51316",
  "676": "50036",
  "677": "51318",
  "678": "50870",
  "679": "50767",
  "682": "413",
  "683": "51146",
  "686": "50117",
  "687": "50315",
  "688": "50515",
  "689": "51341",
  "690": "50840",
  "691": "50910",
  "692": "865",
  "693": "50743",
  "694": "FC40128",
  "695": "51062",
  "697": "FC40163",
  "698": "51336",
  "699": "107",
  "700": "51286",
  "701": "51355",
  "703": "50453",
  "704": "312",
  "705": "268",
  "706": "40165",
  "707": "090629",
  "710": "50994",
  "714": "946",
  "715": "50629",
  "716": "832",
  "725": "050020",
  "737": "50894",
  "738": "51334",
  "739": "090190",
  "750": "106",
  "753": "50491",
  "754": "415",
  "755": "070027",
  "756": "090664",
  "757": "090164",
  "758": "090679",
  "759": "090478",
  "760": "050023",
  "761": "090678",
  "762": "050021",
  "763": "090680",
  "764": "090171",
  "765": "090162",
  "766": "090496",
  "767": "50298",
  "768": "51308",
  "769": "090574",
  "770": "00716",
  "771": "50123",
  "773": "50761",
  "774": "51142",
  "775": "51226",
  "776": "51361",
  "777": "MFB50992",
  "778": "51351",
  "779": "50809",
  "780": "90077",
  "781": "51353",
  "783": "51100",
  "784": "100025",
  "786": "090706",
  "787": "090701",
  "788": "090708",
  "789": "51276",
  "790": "000304",
  "792": "50739",
  "793": "50092",
  "794": "MFB51093",
  "795": "50072",
  "796": "51337",
  "797": "594",
  "801": "561",
  "802": "50697",
  "810": "899",
  "811": "51403",
  "812": "51333",
  "815": "650",
  "816": "50725",
  "817": "50645",
  "820": "50216",
  "821": "50922",
  "822": "070016",
  "823": "50875",
  "824": "50368",
  "825": "51261",
  "826": "070022",
  "827": "100040",
  "828": "51279",
  "829": "40119",
  "830": "51371",
  "831": "MFB51452",
  "832": "50572",
  "853": "51080",
  "854": "51386",
  "855": "51429",
  "857": "108"
}

def fix_bank_codes(apps, schema_editor):
    PaystackAccount = apps.get_model("marketplace", "PaystackAccount")
    for account in PaystackAccount.objects.all():
        corrected_code = BANK_ID_TO_CODE.get(str(account.bank_code))
        if corrected_code:
            account.bank_code = corrected_code
            account.save(update_fields=["bank_code"])

class Migration(migrations.Migration):

    dependencies = [
        ("marketplace", "0012_aggregate_marketplace_post_order_crates"),
    ]

    operations = [
        migrations.RunPython(fix_bank_codes),
    ]