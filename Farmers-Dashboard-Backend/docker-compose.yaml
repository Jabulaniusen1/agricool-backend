version: "3.8"

services:
  web:
    container_name: farmer_web_api
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "5006:80"
    environment:
      - DB_NAME=${DATABASE_NAME}
      - DB_USERNAME=${DATABASE_USERNAME}
      - DB_PASSWORD=${DATABASE_PASSWORD}
      - DB_HOST=${DATABASE_HOST}
      - DB_PORT=${DATABASE_PORT}

  scheduler:
    container_name: farmer_scheduler
    build:
      context: .
      dockerfile: Dockerfile.scheduler
    ports:
      - "5007:3000"
    environment:
      - DB_NAME=${DATABASE_NAME}
      - DB_USERNAME=${DATABASE_USERNAME}
      - DB_PASSWORD=${DATABASE_PASSWORD}
      - DB_HOST=${DATABASE_HOST}
      - DB_PORT=${DATABASE_PORT}
